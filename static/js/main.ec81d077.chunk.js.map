{"version":3,"sources":["App.js","index.js"],"names":["DEFAULT_QUERY","Button","_ref","onClick","className","children","react_default","a","createElement","type","Search","_ref2","value","onChange","onSubmit","Table","_ref3","list","onDismiss","pattern","map","item","key","objectID","style","width","href","url","title","author","num_comments","points","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","results","searchKey","searchTerm","bind","assertThisInitialized","onSearchChange","setSearchTopStories","onSearchSubmit","fetchSearchTopStories","needsToSearchTopStories","id","_this$state","_results$searchKey","hits","page","updatedHits","filter","setState","objectSpread","defineProperty","e","target","result","_this$state2","oldHits","concat","toConsumableArray","_this2","arguments","length","undefined","fetch","then","response","json","catch","error","event","preventDefault","_this3","_this$state3","App_Search","App_Table","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"2RAmBMA,SAAgB,SAgEtB,SAASC,EAATC,GAAkD,IAAhCC,EAAgCD,EAAhCC,QAASC,EAAuBF,EAAvBE,UAAWC,EAAYH,EAAZG,SACpC,OACEC,EAAAC,EAAAC,cAAA,UAAQL,QAASA,EAASC,UAAWA,EAAWK,KAAK,UAClDJ,GAKP,IAAMK,EAAS,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,MAAOC,EAAVF,EAAUE,SAAUC,EAApBH,EAAoBG,SAAUT,EAA9BM,EAA8BN,SAA9B,OACbC,EAAAC,EAAAC,cAAA,QAAMM,SAAUA,GACdR,EAAAC,EAAAC,cAAA,SAAOC,KAAK,OAAOG,MAAOA,EAAOC,SAAUA,IAC3CP,EAAAC,EAAAC,cAAA,UAAQC,KAAK,UAAUJ,KAIrBU,EAAQ,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAeC,GAAlBF,EAASG,QAATH,EAAkBE,WAAlB,OACZZ,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,SACZa,EAAKG,IAAI,SAAAC,GAAI,OACZf,EAAAC,EAAAC,cAAA,OAAKc,IAAKD,EAAKE,SAAUnB,UAAU,aACjCE,EAAAC,EAAAC,cAAA,QAAMgB,MAAO,CAAEC,MAAO,QACpBnB,EAAAC,EAAAC,cAAA,KAAGkB,KAAML,EAAKM,KAAMN,EAAKO,QAE3BtB,EAAAC,EAAAC,cAAA,QAAMgB,MAAO,CAAEC,MAAO,QAAUJ,EAAKQ,QACrCvB,EAAAC,EAAAC,cAAA,QAAMgB,MAAO,CAAEC,MAAO,QAAUJ,EAAKS,cACrCxB,EAAAC,EAAAC,cAAA,QAAMgB,MAAO,CAAEC,MAAO,QAAUJ,EAAKU,QACrCzB,EAAAC,EAAAC,cAAA,QAAMgB,MAAO,CAAEC,MAAO,QACpBnB,EAAAC,EAAAC,cAACP,EAAD,CACEE,QAAS,kBAAMe,EAAUG,EAAKE,WAC9BnB,UAAU,gBACVK,KAAK,UAHP,iBAoJKuB,cAtIb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXC,QAAS,KACTC,UAAW,GACXC,WAAY5C,GAGdkC,EAAKhB,UAAYgB,EAAKhB,UAAU2B,KAAfV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACjBA,EAAKa,eAAiBb,EAAKa,eAAeF,KAApBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACtBA,EAAKc,oBAAsBd,EAAKc,oBAAoBH,KAAzBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAC3BA,EAAKe,eAAiBf,EAAKe,eAAeJ,KAApBV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KACtBA,EAAKgB,sBAAwBhB,EAAKgB,sBAAsBL,KAA3BV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAC7BA,EAAKiB,wBAA0BjB,EAAKiB,wBAAwBN,KAA7BV,OAAAW,EAAA,EAAAX,QAAAW,EAAA,EAAAX,CAAAD,KAddA,uFAiBKU,GACtB,OAAQP,KAAKI,MAAMC,QAAQE,qCAsBnBQ,GAAI,IAAAC,EACmBhB,KAAKI,MAA5BE,EADIU,EACJV,UAAWD,EADPW,EACOX,QADPY,EAEWZ,EAAQC,GAAvBY,EAFID,EAEJC,KAAMC,EAFFF,EAEEE,KAGRC,EAAcF,EAAKG,OADT,SAAArC,GAAI,OAAIA,EAAKE,WAAa6B,IAG1Cf,KAAKsB,SAAS,CACZjB,QAAQP,OAAAyB,EAAA,EAAAzB,CAAA,GACHO,EADEP,OAAA0B,EAAA,EAAA1B,CAAA,GAEJQ,EAAY,CAAEY,KAAME,EAAaD,mDAKzBM,GACbzB,KAAKsB,SAAS,CAAEf,WAAYkB,EAAEC,OAAOnD,oDAGnBoD,GAAQ,IAClBT,EAAeS,EAAfT,KAAMC,EAASQ,EAATR,KADYS,EAEK5B,KAAKI,MAA5BE,EAFkBsB,EAElBtB,UAAWD,EAFOuB,EAEPvB,QAEbwB,EACJxB,GAAWA,EAAQC,GAAaD,EAAQC,GAAWY,KAAO,GAEtDE,EAAW,GAAAU,OAAAhC,OAAAiC,EAAA,EAAAjC,CAAO+B,GAAP/B,OAAAiC,EAAA,EAAAjC,CAAmBoB,IAEpClB,KAAKsB,SAAS,CACZjB,QAAQP,OAAAyB,EAAA,EAAAzB,CAAA,GACHO,EADEP,OAAA0B,EAAA,EAAA1B,CAAA,GAEJQ,EAAY,CAAEY,KAAME,EAAaD,0DAKlBZ,GAAsB,IAAAyB,EAAAhC,KAAVmB,EAAUc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EACvCG,MAAK,GAAAN,OAnLS,iCAmLTA,OAlLW,UAkLX,KAAAA,OAjLY,UAiLZA,OAC0CvB,EAD1C,KAAAuB,OAhLU,SAgLVA,OACqEX,EADrE,KAAAW,OA/KS,gBA+KTA,OApLW,QAuLbO,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAV,GAAM,OAAIK,EAAKrB,oBAAoBgB,KACxCa,MAAM,SAAAC,GAAK,OAAIA,2CAGLC,GAAO,IACZnC,EAAeP,KAAKI,MAApBG,WACRP,KAAKsB,SAAS,CAAEhB,UAAWC,IAEvBP,KAAKc,wBAAwBP,IAC/BP,KAAKa,sBAAsBN,GAG7BmC,EAAMC,6DAGY,IACVpC,EAAeP,KAAKI,MAApBG,WACRP,KAAKsB,SAAS,CAAEhB,UAAWC,IAC3BP,KAAKa,sBAAsBN,oCAGpB,IAAAqC,EAAA5C,KAAA6C,EACoC7C,KAAKI,MAAxCG,EADDsC,EACCtC,WAAYF,EADbwC,EACaxC,QAASC,EADtBuC,EACsBvC,UACvBa,EACHd,GAAWA,EAAQC,IAAcD,EAAQC,GAAWa,MAAS,EAE1DvC,EACHyB,GAAWA,EAAQC,IAAcD,EAAQC,GAAWY,MAAS,GAEhE,OACEjD,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,QACbE,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,gBACbE,EAAAC,EAAAC,cAAC2E,EAAD,CACEvE,MAAOgC,EACP/B,SAAUwB,KAAKU,eACfjC,SAAUuB,KAAKY,gBAHjB,WAQF3C,EAAAC,EAAAC,cAAC4E,EAAD,CAAOnE,KAAMA,EAAMC,UAAWmB,KAAKnB,YACnCZ,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,gBACbE,EAAAC,EAAAC,cAACP,EAAD,CACEE,QAAS,kBAAM8E,EAAK/B,sBAAsBN,EAAYY,EAAO,KAD/D,iBA5HQ6B,aCrHlBC,IAASC,OAAOjF,EAAAC,EAAAC,cAACgF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ec81d077.chunk.js","sourcesContent":["// import React, { Component } from 'react';\n// import './App.css';\n\n// class App extends Component {\n//   render() {\n//     var helloWorld = \"Welcome to Hacker News\";\n//     return (\n//       <div className=\"App\">\n//         <h2>{helloWorld}</h2>\n//       </div>\n//     );\n//   }\n// }\n\n// export default App;\n\nimport React, { Component } from \"react\";\nimport \"./App.css\";\n\nconst DEFAULT_QUERY = \"redux\";\nconst DEFAULT_HPP = \"100\";\nconst PATH_BASE = \"https://hn.algolia.com/api/v1\";\nconst PATH_SEARCH = \"/search\";\nconst PARAM_SEARCH = \"query=\";\nconst PARAM_PAGE = \"page=\";\nconst PARAM_HPP = \"hitsPerPage=\";\n\n// const list = [\n//   {\n//     title: \"React\",\n//     url: \"https://reactjs.org\",\n//     author: \"Jordan Walke\",\n//     num_comments: 3,\n//     points: 4,\n//     objectID: 0\n//   },\n//   {\n//     title: \"Redux\",\n//     url: \"https://reduxjs.org\",\n//     author: \"Dan Abramov, Andrew Clark\",\n//     num_comments: 2,\n//     points: 5,\n//     objectID: 1\n//   }\n// ];\n\n// class App extends Component {\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         {list.map(item => (\n//           <div key={item.objectID}>\n//             <span><a href=\"{item.url}\">{item.title}</a></span>\n//             <span>{item.author}</span>\n//             <span>{item.num_comments}</span>\n//             <span>{item.points}</span>\n//           </div>\n//         ))}\n//       </div>\n//     );\n//   }\n// }\n\n// function isSearched(searchTerm){\n//   return function(item) {\n//     // Some condition which returns true or false\n//     return item.title.toLowerCase().includes(searchTerm.toLowerCase());\n//   }\n// }\n\nconst isSearched = searchTerm => item =>\n  item.title.toLowerCase().includes(searchTerm.toLowerCase());\n\n// class Search extends Component {\n//   render() { \n//     const {value, onChange} = this.props;\n//     return ( \n//       <form>\n//         <input type=\"text\" value={value} onChange={onChange} />\n//       </form>\n//      );\n//   }\n// }\nfunction Button({ onClick, className, children }) {\n  return (\n    <button onClick={onClick} className={className} type=\"button\">\n      {children}\n    </button>\n  );\n}\n\nconst Search = ({ value, onChange, onSubmit, children }) => (\n  <form onSubmit={onSubmit}>\n    <input type=\"text\" value={value} onChange={onChange} />\n    <button type=\"submit\">{children}</button>\n  </form>\n);\n\nconst Table = ({ list, pattern, onDismiss }) => (\n  <div className=\"table\">\n    {list.map(item => (\n      <div key={item.objectID} className=\"table-row\">\n        <span style={{ width: \"40%\" }}>\n          <a href={item.url}>{item.title}</a>\n        </span>\n        <span style={{ width: \"30%\" }}>{item.author}</span>\n        <span style={{ width: \"10%\" }}>{item.num_comments}</span>\n        <span style={{ width: \"10%\" }}>{item.points}</span>\n        <span style={{ width: \"10%\" }}>\n          <Button\n            onClick={() => onDismiss(item.objectID)}\n            className=\"button-inline\"\n            type=\"button\"\n          >\n            Dismiss\n          </Button>\n        </span>\n      </div>\n    ))}\n  </div>\n);\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      results: null,\n      searchKey: \"\",\n      searchTerm: DEFAULT_QUERY\n    };\n\n    this.onDismiss = this.onDismiss.bind(this);\n    this.onSearchChange = this.onSearchChange.bind(this);\n    this.setSearchTopStories = this.setSearchTopStories.bind(this);\n    this.onSearchSubmit = this.onSearchSubmit.bind(this);\n    this.fetchSearchTopStories = this.fetchSearchTopStories.bind(this);\n    this.needsToSearchTopStories = this.needsToSearchTopStories.bind(this);\n  }\n\n  needsToSearchTopStories(searchTerm) {\n    return !this.state.results[searchTerm];\n  }\n\n  // onDismiss(id) {\n  //   const updatedlist = this.state.list.filte(function isNotId(item) {\n  //     return item.objectID !== id;\n  //   })\n  // }\n\n  // onDismiss(id) {\n  //   function isNotId(item) {\n  //     return item.objectID !== id;\n  //   }\n  //   const updatedList = this.state.list.filter(isNotId);\n  // }\n\n  // onDismiss(id) {\n  //   const isNotId = item => item.objectID !== id;\n\n  //   const updatedList = this.state.list.filter(isNotId);\n  // }\n\n  onDismiss(id) {\n    const { searchKey, results } = this.state;\n    const { hits, page } = results[searchKey];\n\n    const isNotId = item => item.objectID !== id;\n    const updatedHits = hits.filter(isNotId);\n\n    this.setState({\n      results: {\n        ...results,\n        [searchKey]: { hits: updatedHits, page }\n      }\n    });\n  }\n\n  onSearchChange(e) {\n    this.setState({ searchTerm: e.target.value });\n  }\n\n  setSearchTopStories(result) {\n    const { hits, page } = result;\n    const { searchKey, results } = this.state;\n\n    const oldHits =\n      results && results[searchKey] ? results[searchKey].hits : [];\n\n    const updatedHits = [...oldHits, ...hits];\n\n    this.setState({\n      results: {\n        ...results,\n        [searchKey]: { hits: updatedHits, page }\n      }\n    });\n  }\n\n  fetchSearchTopStories(searchTerm, page = 0) {\n    fetch(\n      `${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}&${PARAM_HPP}${DEFAULT_HPP}`\n    )\n      .then(response => response.json())\n      .then(result => this.setSearchTopStories(result))\n      .catch(error => error);\n  }\n\n  onSearchSubmit(event) {\n    const { searchTerm } = this.state;\n    this.setState({ searchKey: searchTerm });\n\n    if (this.needsToSearchTopStories(searchTerm)) {\n      this.fetchSearchTopStories(searchTerm);\n    }\n\n    event.preventDefault();\n  }\n\n  componentDidMount() {\n    const { searchTerm } = this.state;\n    this.setState({ searchKey: searchTerm });\n    this.fetchSearchTopStories(searchTerm);\n  }\n\n  render() {\n    const { searchTerm, results, searchKey } = this.state;\n    const page =\n      (results && results[searchKey] && results[searchKey].page) || 0;\n\n    const list =\n      (results && results[searchKey] && results[searchKey].hits) || [];\n\n    return (\n      <div className=\"page\">\n        <div className=\"interactions\">\n          <Search\n            value={searchTerm}\n            onChange={this.onSearchChange}\n            onSubmit={this.onSearchSubmit}\n          >\n            Search\n          </Search>\n        </div>\n        <Table list={list} onDismiss={this.onDismiss} />\n        <div className=\"interactions\">\n          <Button\n            onClick={() => this.fetchSearchTopStories(searchTerm, page + 1)}\n          >\n            More\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nif (module.hot) {\n  module.hot.accept();\n}\n"],"sourceRoot":""}